# 视频解析下载器 GUI版本

## 功能特点

- 🎥 支持多平台视频下载（抖音、B站、快手、小红书、YouTube等）
- 🖥️ 友好的图形用户界面
- 📁 自定义下载目录
- 📊 实时下载进度显示
- 📝 详细的下载日志
- 🔄 自动重试机制
- 🛡️ 反爬虫策略

## 安装依赖

### 方法1：使用pip安装
```bash
pip install -r requirements_gui.txt
```

### 方法2：手动安装
```bash
pip install PyQt5>=5.15.0
pip install requests>=2.25.0
pip install urllib3>=1.26.0
```

## 运行程序

### 方法1：直接运行
```bash
python video_downloader_gui.py
```

### 方法2：使用启动脚本
```bash
python run_gui.py
```

## 使用说明

### 1. 启动程序
运行程序后会显示主界面，包含以下区域：
- **下载设置**：输入视频链接、用户Token和选择下载目录
- **控制按钮**：开始下载、停止下载、清空日志
- **下载日志**：显示详细的下载进度和状态信息

### 2. 输入视频链接
在"视频链接"输入框中粘贴要下载的视频链接，支持以下平台：
- 抖音 (douyin.com)
- B站 (bilibili.com)
- 快手 (kuaishou.com)
- 小红书 (xiaohongshu.com)
- YouTube (youtube.com)
- 微博 (weibo.com)
- 等其他平台

### 3. 设置下载参数
- **用户Token**：可选，用于需要登录的视频
- **下载目录**：选择文件保存位置，默认为"downloads"文件夹

### 4. 开始下载
点击"开始下载"按钮，程序会：
1. 解析视频链接
2. 获取视频信息
3. 开始下载文件
4. 显示实时进度

### 5. 查看结果
- 下载完成后会显示成功/失败消息
- 日志区域显示详细的下载过程
- 文件保存在指定的下载目录中

## 界面功能

### 主要按钮
- **开始下载**：开始解析和下载视频
- **停止下载**：中断当前下载任务
- **清空日志**：清除日志显示区域的内容
- **浏览**：选择下载目录

### 状态显示
- **进度条**：显示下载进度（不确定进度模式）
- **状态栏**：显示当前程序状态
- **日志区域**：显示详细的下载信息

## 注意事项

1. **网络连接**：确保网络连接正常
2. **链接有效性**：确保视频链接有效且未过期
3. **磁盘空间**：确保下载目录有足够的磁盘空间
4. **权限问题**：确保对下载目录有写入权限

## 故障排除

### 常见问题

1. **403错误**
   - 原因：服务器拒绝访问，可能是反爬虫机制
   - 解决：程序会自动重试，如果仍然失败，可能需要更新链接

2. **下载失败**
   - 检查网络连接
   - 确认视频链接有效
   - 查看日志中的具体错误信息

3. **界面无响应**
   - 下载过程中界面可能暂时无响应，这是正常现象
   - 可以点击"停止下载"按钮中断任务

4. **依赖包问题**
   - 确保已正确安装PyQt5
   - 在Windows上可能需要安装Visual C++ Redistributable

## 技术特性

- **多线程下载**：使用QThread避免界面卡顿
- **智能重试**：自动重试失败的下载
- **平台识别**：自动识别不同平台的视频链接
- **请求头优化**：针对不同平台使用特定的请求头
- **错误处理**：完善的异常处理机制

## 更新日志

### v1.0
- 初始版本发布
- 支持多平台视频下载
- 图形用户界面
- 实时进度显示
- 自动重试机制

## 许可证

本项目仅供学习和个人使用，请遵守相关平台的使用条款。 